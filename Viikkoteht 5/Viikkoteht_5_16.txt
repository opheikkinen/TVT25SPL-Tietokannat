A)

CREATE TABLE Muutokset (id INT AUTO_INCREMENT PRIMARY KEY, pvm DATETIME, toiminto VARCHAR(45)); 

----

CREATE TRIGGER `Opiskelija_AFTER_INS`
AFTER INSERT ON `Opiskelija` FOR EACH ROW

BEGIN

INSERT INTO Muutokset VALUES( NULL,NOW(),'Lis√§ys opiskelijatauluun');

END 

-----

CREATE TRIGGER `Opiskelija_AFTER_UD`
AFTER UPDATE ON `Opiskelija` FOR EACH ROW

BEGIN

INSERT INTO Muutokset VALUES( NULL,NOW(),'Muutos opiskelijatauluun');

END 

B)

CREATE TABLE Roskakori (id INT AUTO_INCREMENT PRIMARY KEY, pvm DATETIME, poistetut VARCHAR(200));

----

CREATE TRIGGER 'Opiskelija_BEFORE_DEL' 
BEFORE DELETE ON 'Opiskelija' FOR EACH ROW

BEGIN

DECLARE str VARCHAR(200);
SET str=CONCAT(OLD.idOpiskelija,' ',OLD.Etunimi,' ',OLD.Sukunimi,' ',OLD.Luokkatunnus');
INSERT INTO Roskakori VALUES(NULL,NOW(),str);

END

----

CREATE TRIGGER 'Opintojakso_BEFORE_DEL' 
BEFORE DELETE ON 'Opintojakso' FOR EACH ROW

BEGIN

DECLARE str VARCHAR(200);
SET str=CONCAT(OLD.idOpintojakso,' ',OLD.Koodi,' ',OLD.Laajuus,' ',OLD.Nimi');
INSERT INTO Roskakori VALUES(NULL,NOW(),str);

END

----

CREATE TRIGGER 'Arviointi_BEFORE_DEL' 
BEFORE DELETE ON 'Arviointi' FOR EACH ROW

BEGIN

DECLARE str VARCHAR(200);
SET str=CONCAT(OLD.idArviointi,' ',OLD.Paivamaara,' ',OLD.Arvosana,' ',OLD.idOpintojakso,','OLD.idOpiskelija');
INSERT INTO Roskakori VALUES(NULL,NOW(),str);

END 

